<!DOCTYPE html>
<html>
<head>
<style>
.container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 10px;
  justify-content: center;
  max-width: 800px;
  margin: 0 auto;
}

.box {
  padding: 10px;
  background-color: #f0f0f0;
  text-align: center;
  border: 1px solid #ccc;
  border-radius: 10px;
  font-size: 14px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.student-info {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.student-info img {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  margin-bottom: 5px;
}

.student-name {
  font-weight: bold;
}

.student-enrollment {
  color: #666;
}
</style>
</head>
<body>

<div class="container">
  <!-- Your boxes here -->
  <div class="box">
   <div class="student-info">
      <img src="student1.jpg" alt="Student 1">
      <p>12345</p>
      <p>John Doe</p>
    </div>
  </div >
  <!-- Add more boxes with student data dynamically here-->
  <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >
   <div class="box">
    <div class="student-info">
       <img src="student1.jpg" alt="Student 1">
       <p>Enrollment: 12345</p>
       <p>Name: John Doe</p>
     </div>
   </div >

<div class="counts">
  <div id="presentCount">Present: 0</div>
  <div id="absentCount">Absent: 0</div>
  <button id="calculateButton">Calculate</button>
  <button id="submitButton">Submit</button>
</div>

<script>
  // Sample code for updating attendance status in the database
  function updateAttendance(studentId, isPresent) {
    // Make an API request to your server to update the database
    // You'll need to implement this server-side logic
    // Example: POST request to /updateAttendance with studentId and isPresent
  }

  document.addEventListener('DOMContentLoaded', function () {
    // Fetch student data from the server and create boxes dynamically
    // Example code to fetch student data and create boxes:
    const studentData = [
      { id: 1, enrollment: 12345, name: 'John Doe', image: 'student1.jpg' },
      // Add more student data objects here
    ];

    const container = document.querySelector('.container');

    studentData.forEach(student => {
      const box = document.createElement('div');
      box.classList.add('box');
      box.innerHTML = `
        <div class="student-info">
          <img src="${student.image}" alt="Student ${student.id}">
          <p>Enrollment: ${student.enrollment}</p>
          <p>Name: ${student.name}</p>
        </div>
      `;
      container.appendChild(box);

      // Attach click event listeners to the boxes
      box.addEventListener('click', () => {
        const isPresent = !box.classList.contains('present'); // Toggle attendance status

        // Update the box color (green for present, red for absent)
        if (isPresent) {
          box.style.backgroundColor = 'green';
          box.classList.add('present');
          box.classList.remove('absent');
        } else {
          box.style.backgroundColor = 'red';
          box.classList.remove('present');
          box.classList.add('absent');
        }

        // Update the attendance status in the database
        updateAttendance(student.id, isPresent);
      });
    });

    // Click event for the Calculate button
    const calculateButton = document.getElementById('calculateButton');
    calculateButton.addEventListener('click', () => {
      // Calculate the counts
      const boxes = document.querySelectorAll('.box');
      const totalBoxes = boxes.length;
      const presentBoxes = document.querySelectorAll('.box.present').length;
      const absentBoxes = totalBoxes - presentBoxes;

      // Update the counts display
      const presentCount = document.getElementById('presentCount');
      const absentCount = document.getElementById('absentCount');
      presentCount.textContent = `Present: ${presentBoxes}`;
      absentCount.textContent = `Absent: ${absentBoxes}`;
    });

    // Click event for the Submit button
    const submitButton = document.getElementById('submitButton');
    submitButton.addEventListener('click', () => {
      // Implement your logic to submit data to the backend here
      // You can use the present and absent counts as needed
      console.log('Data submitted to the backend');
    });
  });
</script>
</body>
</html>
